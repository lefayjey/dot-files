# i3blocks config -- hacker aesthetic
# ASCII labels, dark theme, no emoji

separator_block_width=12
markup=pango

# --- System ---------------------------------------------------------------

[cpu]
label=CPU: 
command=top -bn1 | awk '/^%Cpu/ {printf "%.0f%%", $2+$4}'
interval=3
color=#73daca

[mem]
label=MEM: 
command=free -h | awk '/Mem:/ {print $3 "/" $2}'
interval=10
color=#7dcfff

[disk]
label=DSK: 
command=df -h / | awk 'NR==2 {print $3 "/" $2}'
interval=30
color=#7aa2f7

[load]
label=LOAD: 
command=uptime | awk -F'load average: ' '{split($2,a,","); printf "%.2f", a[1]}'
interval=10
color=#bb9af7

# --- Network --------------------------------------------------------------

[iface]
label=IP: 
command=ip -4 addr show | awk '/inet/ && $2 !~ /^127/ {sub(/\/.*/, "", $2); print $2; exit}' || echo "n/a"
color=#73daca
interval=10

[vpn]
label=VPN: 
command=/sbin/ifconfig tun0 2>/dev/null | awk '/inet / {print $2}' || echo "off"
interval=10
color=#dca561

[extip]
label=EXT: 
command=sh -c 'ip=$(curl -fsS --max-time 3 https://api.ipify.org 2>/dev/null); [ -n "$ip" ] && echo "$ip" || echo "n/a"'
interval=120
color=#ff9e64

[wifi]
label=WLAN: 
command=iwgetid -r 2>/dev/null || echo "n/a"
interval=10
color=#73daca

[bw]
label=NET: 
command=ifstat -q 1 1 2>/dev/null | awk 'NR==3 {printf "%.1fd %.1fu", $1, $2}' || echo "n/a"
interval=5
color=#7dcfff

# --- Audio ----------------------------------------------------------------

[vol]
label=VOL: 
command=amixer get Master 2>/dev/null | awk -F'[][]' 'END{ print $2 }' || echo "n/a"
interval=2
color=#a9b1d6

# --- Time -----------------------------------------------------------------

[bat]
label=BAT: 
command=acpi -b 2>/dev/null | awk -F', ' '{print $2}' || echo "n/a"
interval=30
color=#73daca

[time]
label=
command=date '+%a %d %b // %H:%M:%S'
interval=1
color=#c0caf5
