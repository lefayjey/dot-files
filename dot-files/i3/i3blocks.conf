# i3blocks config file

separator_block_width=15
markup=none

################
# AUDIO / SYSTEM
################

[volume]
label=♪ 
command=amixer get Master | awk -F'[][]' 'END{ print $2 }'
interval=2

[memory]
label=MEM 
command=free -h | awk '/Mem:/ {print $3 "/" $2}'
interval=10

[cpu_usage]
label=CPU 
command=grep 'cpu ' /proc/stat | awk '{u=$2+$4; t=$2+$4+$5} NR==1{pu=u; pt=t; next} {printf "%.0f%%", (u-pu)/(t-pt)*100}'
interval=2

[disk]
label=DISK 
command=df -h / | awk 'NR==2 {print $3 "/" $2}'
interval=30

###########
# NETWORK
###########

[iface]
label=INTERNAL IP: 
command=ip -4 addr show | awk '/inet/ && $2 !~ /^127/ {print $2; exit}' || echo "n/a"
color=#5ebdab
interval=10

[externalip]
label=EXTERNAL IP: 
command=sh -c 'ip=$(curl -fsS --max-time 5 https://api.ipify.org 2>/dev/null || wget -qO- --timeout=5 --tries=1 https://api.ipify.org 2>/dev/null || wget -qO- --timeout=5 --tries=1 http://ipinfo.io/ip 2>/dev/null); [ -n "$ip" ] && printf "%s\n" "$ip" || printf "%s\n" "n/a"'
interval=60
color=#367bf0

[wifi]
label=Wi-Fi 
command=iwgetid -r || echo "down"
interval=10
separator=false

[bandwidth]
label=NET 
command=ifstat -q 1 1 | awk 'NR==3 {print $1 "↓ " $2 "↑"}' || echo "n/a"
interval=5

[vpn]
label=VPN 
command=/sbin/ifconfig tun0 2>/dev/null | awk '/inet / {print $2}' || echo "off"
instance=tun0
interval=10
separator=true
color=#ff8a18

###########
# POWER/TIME
###########

[battery]
label=⚡
command=acpi -b | awk -F', ' '{print $2}' || echo "n/a"
interval=30

[time]
command=date '+%Y-%m-%d %H:%M:%S'
interval=5

